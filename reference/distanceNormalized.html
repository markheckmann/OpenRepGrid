<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate power-transformed Hartmann distances. — distanceNormalized • OpenRepGrid</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate power-transformed Hartmann distances. — distanceNormalized"><meta name="description" content="Hartmann (1992) suggested a transformation of Slater (1977) distances to make
them independent from the size of a grid. Hartmann distances are supposed to
yield stable cutoff values used to determine 'significance' of inter-element
distances. It can be shown that Hartmann distances are still affected by grid
parameters like size and the range of the rating scale used (Heckmann, 2012).
The function distanceNormalize applies a Box-Cox (1964) transformation to the
Hartmann distances in order to remove the skew of the Hartmann distance
distribution. The normalized values show to have more stable cutoffs
(quantiles) and better properties for comparison across grids of different
size and scale range.  "><meta property="og:description" content="Hartmann (1992) suggested a transformation of Slater (1977) distances to make
them independent from the size of a grid. Hartmann distances are supposed to
yield stable cutoff values used to determine 'significance' of inter-element
distances. It can be shown that Hartmann distances are still affected by grid
parameters like size and the range of the rating scale used (Heckmann, 2012).
The function distanceNormalize applies a Box-Cox (1964) transformation to the
Hartmann distances in order to remove the skew of the Hartmann distance
distribution. The normalized values show to have more stable cutoffs
(quantiles) and better properties for comparison across grids of different
size and scale range.  "><meta property="og:image" content="https://docs.openrepgrid.org/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">OpenRepGrid</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.17</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/web/intro.html">Intro</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/web/features.html">Features</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://eepurl.com/4h0t9" target="_blank" aria-label="Newsletter"><span class="fa fa-envelope fa-light"></span> Newsletter</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/markheckmann/OpenRepGrid/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Calculate power-transformed Hartmann distances.</h1>
      <small class="dont-index">Source: <a href="https://github.com/markheckmann/OpenRepGrid/blob/v0.1.17/R/distance.R" class="external-link"><code>R/distance.R</code></a></small>
      <div class="d-none name"><code>distanceNormalized.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Hartmann (1992) suggested a transformation of Slater (1977) distances to make
them independent from the size of a grid. Hartmann distances are supposed to
yield stable cutoff values used to determine 'significance' of inter-element
distances. It can be shown that Hartmann distances are still affected by grid
parameters like size and the range of the rating scale used (Heckmann, 2012).
The function <code>distanceNormalize</code> applies a Box-Cox (1964) transformation to the
Hartmann distances in order to remove the skew of the Hartmann distance
distribution. The normalized values show to have more stable cutoffs
(quantiles) and better properties for comparison across grids of different
size and scale range.  <br></p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">distanceNormalized</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  reps <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  prob <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  distributions <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p><code>repgrid</code> object.</p></dd>


<dt id="arg-reps">reps<a class="anchor" aria-label="anchor" href="#arg-reps"></a></dt>
<dd><p>Number of random grids to generate to produce
sample distribution for Hartmann distances
(default is <code>1000</code>). Note that
a lot of samples may take a while to calculate.</p></dd>


<dt id="arg-prob">prob<a class="anchor" aria-label="anchor" href="#arg-prob"></a></dt>
<dd><p>The probability of each rating value to occur.
If <code>NULL</code> (default) the distribution is uniform.
The number of values must match the length of the rating scale.</p></dd>


<dt id="arg-progress">progress<a class="anchor" aria-label="anchor" href="#arg-progress"></a></dt>
<dd><p>Whether to show a progress bar during simulation
(default is <code>TRUE</code>) (for <code>method="simulate"</code>).
May be useful when the distribution is estimated on the basis
of many quasis.</p></dd>


<dt id="arg-distributions">distributions<a class="anchor" aria-label="anchor" href="#arg-distributions"></a></dt>
<dd><p>Whether to additionally return the values of the simulated
distributions (Slater etc.) The default is <code>FALSE</code>
as it will quickly boost the object size.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A matrix containing the standardized distances. <br>
Further data is contained in the object's attributes: <br></p>
<dl><dt><code>"arguments"</code></dt>
<dd><p>A list of several parameters
including <code>mean</code> and <code>sd</code> of Slater distribution.</p></dd>

<dt><code>"quantiles"</code></dt>
<dd><p>Quantiles for Slater, Hartmann
and power transformed distance distributions.</p></dd>

<dt><code>"distributions"</code></dt>
<dd><p>List with values of the
simulated distributions, if <code>distributions=TRUE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function <code>distanceNormalize</code> can also return
the quantiles of the sample distribution and only the element distances
considered 'significant' according to the quantiles defined.</p>
    </div>
    <div class="section level2">
    <h2 id="calculations">Calculations<a class="anchor" aria-label="anchor" href="#calculations"></a></h2>


<p>The 'power transformed Hartmann distance' are calculated as
follows: The simulated Hartmann distribution is added a constant as the
Box-Cox transformation can only be applied to positive values. Then a range
of values for lambda in the Box-Cox transformation (Box &amp; Cox, 1964) are
tried out. The best lambda is the one maximizing the correlation of the
quantiles with the standard normal distribution. The lambda value maximizing
normality is used to transform Hartmann distances. As the resulting scale of
the power transformation depends on lambda, the resulting values are
z-transformed to derive a common scaling.</p>
<p>The code for the calculation of the optimal lambda was written by Ioannis
Kosmidis.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Box, G. E. P., &amp; Cox, D. R. (1964). An Analysis of Transformations.
<em>Journal of the Royal Statistical Society. Series B (Methodological), 26</em>(2), 211-252.</p>
<p>Hartmann, A. (1992). Element comparisons in repertory grid technique: Results and consequences of a Monte Carlo
study. <em>International Journal of Personal Construct Psychology, 5</em>(1), 41-56.</p>
<p>Heckmann, M. (2012). <em>Standardizing inter-element distances in grids - A revision of Hartmann's distances</em>, 11th
Biennal Conference of the European Personal Construct Association (EPCA), Dublin, Ireland, Paper presentation,
July 2012.</p>
<p>Slater, P. (1977). <em>The measurement of intrapersonal space by Grid technique</em>. London: Wiley.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="distanceHartmann.html">distanceHartmann()</a></code> and <code><a href="distanceSlater.html">distanceSlater()</a></code>.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### basics  ###</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">distanceNormalized</span><span class="op">(</span><span class="va">bell2010</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fu">distanceNormalized</span><span class="op">(</span><span class="va">bell2010</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">n</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># printing options</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">n</span>, digits <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># 'significant' distances only</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">n</span>, p <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.05</span>, <span class="fl">.95</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># access cells of distance matrix</span></span></span>
<span class="r-in"><span><span class="va">n</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### advanced  ###</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># histogram of Slater distances and indifference region</span></span></span>
<span class="r-in"><span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fu">distanceNormalized</span><span class="op">(</span><span class="va">bell2010</span>, distributions <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">l</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">n</span>, <span class="st">"distributions"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="va">l</span><span class="op">$</span><span class="va">bc</span>, breaks <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://markheckmann.de" class="external-link">Mark Heckmann</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Provided without <strong>any warranty</strong></p>
</div>

    </footer></div>





  </body></html>

