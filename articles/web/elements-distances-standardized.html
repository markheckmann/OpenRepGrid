<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Distances between elements (standardized) • OpenRepGrid</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../../apple-touch-icon-60x60.png">
<script src="../../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../../deps/headroom-0.11.0/headroom.min.js"></script><script src="../../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../../deps/search-1.0.0/fuse.min.js"></script><script src="../../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../../pkgdown.js"></script><meta property="og:title" content="Distances between elements (standardized)">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../../index.html">OpenRepGrid</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.16</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../../articles/web/intro.html">Intro</a></li>
<li class="nav-item"><a class="nav-link" href="../../articles/web/features.html">Features</a></li>
<li class="nav-item"><a class="nav-link" href="../../reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../../news/index.html">Changelog</a></li>
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../../search.json">
</form></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://eepurl.com/4h0t9" target="_blank" aria-label="Newsletter"><span class="fa fa-envelope fa-light"></span> Newsletter</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/markheckmann/OpenRepGrid/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../../logo.png" class="logo" alt=""><h1>Distances between elements (standardized)</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/markheckmann/OpenRepGrid/blob/v0.1.16/vignettes/web/elements-distances-standardized.Rmd" class="external-link"><code>vignettes/web/elements-distances-standardized.Rmd</code></a></small>
      <div class="d-none name"><code>elements-distances-standardized.Rmd</code></div>
    </div>

    
    
<div class="section level3">
<h3 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h3>
<p>As a similarity measure in grids different types of Minkowski
metrics, especially the Euclidean and city-block metric are frequently
used. The Euclidean distance is the sum of squared differences between
the ratings on two different elements. They are, however, no
standardized measure. The distances strongly depend on the number of
constructs and the rating range. The figure below demonstrates this
fact. Note how the distance changes although the rating pattern remains
identical.</p>
<p><img src="images%2Felements_distances.png"></p>
<p>In order to be able to compare distances across grids of different
size and rating range a standardization is desireable. Also, the notion
of <em>significance of a distance</em>, i.e. a distance which is
unusually big, is easier with a standard reference measure. Different
suggestions have been made in the literature of how to standardize
Euclidean interelement distances <span class="citation">(Hartmann, 1992;
Heckmann, 2012; Slater, 1977)</span>. The three variants will be briefly
discussed and the corresponing R-Code is demonstrated.</p>
</div>
<div class="section level3">
<h3 id="slater-distances-1977">Slater distances (1977)<a class="anchor" aria-label="anchor" href="#slater-distances-1977"></a>
</h3>
<div class="section level4">
<h4 id="description">Description<a class="anchor" aria-label="anchor" href="#description"></a>
</h4>
<p>The first suggestion to standardization was made by Slater <span class="citation">(1977)</span>. He essentially calculated an expected
average Euclidean distance
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>U</mi><annotation encoding="application/x-tex">U</annotation></semantics></math>
for the case if the ratings are randomly distributed. To standardize the
grids he suggested to divide the matrix of Euclidean distances
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>E</mi><annotation encoding="application/x-tex">E</annotation></semantics></math>
by this <em>unit of expected distance</em>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>U</mi><annotation encoding="application/x-tex">U</annotation></semantics></math>.
The Slater standardization thus is the division of the Euclidean
distances by the distance expected on average. Hence, distances bigger
than 1 are greater than expected, distances smaller than 1 are smaller
than expected.</p>
</div>
<div class="section level4">
<h4 id="r-code">R-Code<a class="anchor" aria-label="anchor" href="#r-code"></a>
</h4>
<p>The function <code>distanceSlater</code> calculates Slater distances
for a grid.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/distanceSlater.html">distanceSlater</a></span><span class="op">(</span><span class="va">boeker</span><span class="op">)</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># ##########################</span></span>
<span><span class="co"># Distances between elements</span></span>
<span><span class="co"># ##########################</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># Distance method:  Slater (standardized Euclidean)</span></span>
<span><span class="co"># Normalized:</span></span>
<span><span class="co">#                                1    2    3    4    5    6    7    8    9   10   11   12   13   14   15</span></span>
<span><span class="co"># (1) self                  1      1.03 0.75 0.69 0.87 1.19 0.80 1.03 0.99 0.59 1.79 0.58 0.55 0.64 0.54</span></span>
<span><span class="co"># (2) ideal self            2           1.11 0.78 1.06 1.31 1.07 0.97 1.14 0.97 1.56 1.22 1.21 1.24 1.25</span></span>
<span><span class="co"># (3) mother                3                0.73 0.53 0.95 0.55 0.81 0.64 0.67 1.58 0.69 0.83 0.77 0.69</span></span>
<span><span class="co"># (4) father                4                     0.63 1.15 0.65 0.90 0.83 0.69 1.66 0.84 0.91 0.98 0.89</span></span>
<span><span class="co"># (5) kurt                  5                          0.89 0.57 0.79 0.57 0.72 1.51 0.79 0.93 0.87 0.83</span></span>
<span><span class="co"># (6) karl                  6                               0.94 0.74 0.66 1.09 0.97 1.17 1.22 1.08 1.15</span></span>
<span><span class="co"># (7) george                7                                    0.92 0.65 0.81 1.51 0.73 0.91 0.92 0.78</span></span>
<span><span class="co"># (8) martin                8                                         0.68 0.80 1.27 1.09 1.10 1.01 1.07</span></span>
<span><span class="co"># (9) elizabeth             9                                              0.87 1.31 1.00 1.13 1.03 0.98</span></span>
<span><span class="co"># (10) therapist           10                                                   1.74 0.65 0.63 0.69 0.65</span></span>
<span><span class="co"># (11) irene               11                                                        1.83 1.86 1.72 1.84</span></span>
<span><span class="co"># (12) childhood self      12                                                             0.43 0.50 0.34</span></span>
<span><span class="co"># (13) self before illness 13                                                                  0.43 0.41</span></span>
<span><span class="co"># (14) self with delusion  14                                                                       0.45</span></span>
<span><span class="co"># (15) self as dreamer     15                                                                           </span></span>
<span><span class="co"># </span></span>
<span><span class="co"># Note that Slater distances cannot be compared across grids with a different number of constructs (see Hartmann, 1992).</span></span></code></pre></div>
<p>You can save the results and define the way they are displayed using
the <code>print</code> method. For example we could display distances
only within certain boundaries, using the <code>cutoff</code> values
<code>.8</code> and <code>1.2</code> to indicate very big or small
distances as suggested by Norris and Makhlouf-Norris <span class="citation">(1976)</span>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/distanceSlater.html">distanceSlater</a></span><span class="op">(</span><span class="va">boeker</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">d</span>, cutoffs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.8</span>, <span class="fl">1.2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># ##########################</span></span>
<span><span class="co"># Distances between elements</span></span>
<span><span class="co"># ##########################</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># Distance method:  Slater (standardized Euclidean)</span></span>
<span><span class="co"># Normalized:</span></span>
<span><span class="co">#                                1    2    3    4    5    6    7    8    9   10   11   12   13   14   15</span></span>
<span><span class="co"># (1) self                  1           0.75 0.69           0.80           0.59 1.79 0.58 0.55 0.64 0.54</span></span>
<span><span class="co"># (2) ideal self            2                0.78      1.31                     1.56 1.22 1.21 1.24 1.25</span></span>
<span><span class="co"># (3) mother                3                0.73 0.53      0.55      0.64 0.67 1.58 0.69      0.77 0.69</span></span>
<span><span class="co"># (4) father                4                     0.63      0.65           0.69 1.66                    </span></span>
<span><span class="co"># (5) kurt                  5                               0.57 0.79 0.57 0.72 1.51 0.79               </span></span>
<span><span class="co"># (6) karl                  6                                    0.74 0.66                1.22          </span></span>
<span><span class="co"># (7) george                7                                         0.65      1.51 0.73           0.78</span></span>
<span><span class="co"># (8) martin                8                                         0.68 0.80 1.27                    </span></span>
<span><span class="co"># (9) elizabeth             9                                                   1.31                    </span></span>
<span><span class="co"># (10) therapist           10                                                   1.74 0.65 0.63 0.69 0.65</span></span>
<span><span class="co"># (11) irene               11                                                        1.83 1.86 1.72 1.84</span></span>
<span><span class="co"># (12) childhood self      12                                                             0.43 0.50 0.34</span></span>
<span><span class="co"># (13) self before illness 13                                                                  0.43 0.41</span></span>
<span><span class="co"># (14) self with delusion  14                                                                       0.45</span></span>
<span><span class="co"># (15) self as dreamer     15                                                                           </span></span>
<span><span class="co"># </span></span>
<span><span class="co"># Note that Slater distances cannot be compared across grids with a different number of constructs (see Hartmann, 1992).</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="calculation">Calculation<a class="anchor" aria-label="anchor" href="#calculation"></a>
</h4>
<p>Let
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>G</mi><annotation encoding="application/x-tex">G</annotation></semantics></math>
be the raw grid matrix and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>D</mi><annotation encoding="application/x-tex">D</annotation></semantics></math>
be the grid matrix centered around the construct means, with
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>d</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><msub><mi>g</mi><mrow><mi>.</mi><mi>.</mi></mrow></msub><mo>−</mo><msub><mi>g</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">d_{ij} =g_{..} - g_{ij}</annotation></semantics></math>,
where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>g</mi><mrow><mi>.</mi><mi>.</mi></mrow></msub><annotation encoding="application/x-tex">g_{..}</annotation></semantics></math>
is the mean of the construct. Further, let</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo>=</mo><msup><mi>D</mi><mi>T</mi></msup><mi>D</mi><mspace width="2.0em"></mspace><mtext mathvariant="normal">and</mtext><mspace width="2.0em"></mspace><mi>S</mi><mo>=</mo><mi>t</mi><mi>r</mi><mspace width="0.278em"></mspace><mi>P</mi></mrow><annotation encoding="application/x-tex">P=D^TD \qquad \text{and} \qquad S=tr\;P</annotation></semantics></math></p>
<p>The Euclidean distances results in:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mrow><mo stretchy="true" form="prefix">(</mo><mo>∑</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>d</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>−</mo><msub><mi>d</mi><mrow><mi>i</mi><mi>k</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mn>1</mn><mi>/</mi><mn>2</mn></mrow></msup><annotation encoding="application/x-tex">(\sum{ (d_{ij} - d_{ik} )^2})^{1/2}</annotation></semantics></math></p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⇔</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><mo>∑</mo><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mi>d</mi><mrow><mi>i</mi><mi>j</mi></mrow><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>d</mi><mrow><mi>i</mi><mi>k</mi></mrow><mn>2</mn></msubsup><mo>−</mo><mn>2</mn><msub><mi>d</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><msub><mi>d</mi><mrow><mi>i</mi><mi>k</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mn>1</mn><mi>/</mi><mn>2</mn></mrow></msup></mrow><annotation encoding="application/x-tex">\Leftrightarrow (\sum{ (d_{ij}^2 + d_{ik}^2 - 2d_{ij}d_{ik})})^{1/2}</annotation></semantics></math></p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⇔</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><mo>∑</mo><msubsup><mi>d</mi><mrow><mi>i</mi><mi>j</mi></mrow><mn>2</mn></msubsup><mo>+</mo><mo>∑</mo><msubsup><mi>d</mi><mrow><mi>i</mi><mi>k</mi></mrow><mn>2</mn></msubsup><mo>−</mo><mn>2</mn><mo>∑</mo><mrow><msub><mi>d</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><msub><mi>d</mi><mrow><mi>i</mi><mi>k</mi></mrow></msub></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mn>1</mn><mi>/</mi><mn>2</mn></mrow></msup></mrow><annotation encoding="application/x-tex">\Leftrightarrow (\sum{ d_{ij}^2 } + \sum{d_{ik}^2} - 2\sum{d_{ij}d_{ik} })^{1/2}</annotation></semantics></math></p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⇔</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>S</mi><mi>j</mi></msub><mo>+</mo><msub><mi>S</mi><mi>k</mi></msub><mo>−</mo><mn>2</mn><msub><mi>P</mi><mrow><mi>j</mi><mi>k</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mn>1</mn><mi>/</mi><mn>2</mn></mrow></msup></mrow><annotation encoding="application/x-tex">\Leftrightarrow (S_j + S_k - 2P_{jk})^{1/2}</annotation></semantics></math></p>
<p>For the standardization, Slater proposes to use the expected
Euclidean distance between a random pair of elements taken from the
grid. The average for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>S</mi><mi>j</mi></msub><annotation encoding="application/x-tex">S_j</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>S</mi><mi>k</mi></msub><annotation encoding="application/x-tex">S_k</annotation></semantics></math>
would then be
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mrow><mi>a</mi><mi>v</mi><mi>g</mi></mrow></msub><mo>=</mo><mi>S</mi><mi>/</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">S_{avg} = S/m</annotation></semantics></math>
where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>m</mi><annotation encoding="application/x-tex">m</annotation></semantics></math>
is the number of elements in the grid. The average of the off-line
diagonals of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>P</mi><annotation encoding="application/x-tex">P</annotation></semantics></math>
is
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi>/</mi><mi>m</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>m</mi><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">S/m(m-1)</annotation></semantics></math><span class="citation">(see Slater, 1951, for a proof)</span>. Inserted
into the formula above it gives the following expected average euclidean
distance
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>U</mi><annotation encoding="application/x-tex">U</annotation></semantics></math>
which is outputted as <em>unit of expected distance</em> in Slater’s
INGRID program.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mo>=</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><mn>2</mn><mi>S</mi><mi>/</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>m</mi><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mn>1</mn><mi>/</mi><mn>2</mn></mrow></msup></mrow><annotation encoding="application/x-tex">U = (2S/(m-1))^{1/2}</annotation></semantics></math></p>
<p>The calculated euclidean distances are then divided by
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>U</mi><annotation encoding="application/x-tex">U</annotation></semantics></math>,
the <em>unit of expected distance</em> to form the matrix of
standardized element distances
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>E</mi><mrow><mi>s</mi><mi>t</mi><mi>d</mi></mrow></msub><annotation encoding="application/x-tex">E_{std}</annotation></semantics></math>,
with</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mrow><mi>s</mi><mi>t</mi><mi>d</mi></mrow></msub><mo>=</mo><mi>E</mi><mi>/</mi><mi>U</mi></mrow><annotation encoding="application/x-tex">E_{std} = E/U</annotation></semantics></math></p>
</div>
</div>
<div class="section level3">
<h3 id="hartmann-distances-1992">Hartmann distances (1992)<a class="anchor" aria-label="anchor" href="#hartmann-distances-1992"></a>
</h3>
<div class="section level4">
<h4 id="description-1">Description<a class="anchor" aria-label="anchor" href="#description-1"></a>
</h4>
<p>Hartmann <span class="citation">(1992)</span> showed in a Monte Carlo
study that Slater distances (see above) based on random grids, for which
Slater coined the expression <em>quasis</em>, have a skewed
distribution, a mean and a standard deviation depending on the number of
constructs elicited. Hence, the distances cannot be compared across
grids with a different number of constructs. As a remedy he suggested a
linear transformation (z-transformation) of the Slater distance values
which take into account their estimated (or alternatively expected) mean
and their standard deviation to standardize them. Hartmann distances
represent a more accurate version of Slater distances. Note that
Hartmann distances are multiplied by -1 to allow an interpretation
similar to correlation coefficients: negative Hartmann values represent
an above average dissimilarity (i.e. a big Slater distance) and positive
values represent an above average similarity (i.e. a small Slater
distance).</p>
<p>The <em>Hartmann distance</em> is calculated as follows <span class="citation">(Hartmann, 1992, p. 49)</span>.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mo>=</mo><mo>−</mo><mn>1</mn><mfrac><mrow><msub><mi>D</mi><mrow><mi>s</mi><mi>l</mi><mi>a</mi><mi>t</mi><mi>e</mi><mi>r</mi></mrow></msub><mo>−</mo><msub><mi>M</mi><mi>c</mi></msub></mrow><mrow><mi>s</mi><msub><mi>d</mi><mi>c</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">D = -1 \frac{D_{slater} - M_c}{sd_c}</annotation></semantics></math></p>
<p>Where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>D</mi><mrow><mi>s</mi><mi>l</mi><mi>a</mi><mi>t</mi><mi>e</mi><mi>r</mi></mrow></msub><annotation encoding="application/x-tex">D_{slater}</annotation></semantics></math>
denotes the Slater distances of the grid,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mi>c</mi></msub><annotation encoding="application/x-tex">M_c</annotation></semantics></math>
the sample distribution’s mean value and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><msub><mi>d</mi><mi>c</mi></msub></mrow><annotation encoding="application/x-tex">sd_c</annotation></semantics></math>
the sample distributions’s standard deviation.</p>
</div>
<div class="section level4">
<h4 id="r-code-1">R-Code<a class="anchor" aria-label="anchor" href="#r-code-1"></a>
</h4>
<p>The function <code>distanceHartmann</code> calculates Hartmann
distances. The function can be operated in two ways. The default option
(<code>method="paper"</code>) uses precalculated mean and standard
deviations (as e.g. given in <span class="citation">Hartmann
(1992)</span>) for the standardization.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/distanceHartmann.html">distanceHartmann</a></span><span class="op">(</span><span class="va">boeker</span><span class="op">)</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># ##########################</span></span>
<span><span class="co"># Distances between elements</span></span>
<span><span class="co"># ##########################</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># Distance method:  Hartmann (standardized Slater distances)</span></span>
<span><span class="co"># Normalized:</span></span>
<span><span class="co">#                                 1     2     3     4     5     6     7     8     9    10    11    12    13    14    15</span></span>
<span><span class="co"># (1) self                  1       -0.28  1.58  1.92  0.80 -1.33  1.20 -0.29 -0.04  2.62 -5.24  2.66  2.87  2.28  2.89</span></span>
<span><span class="co"># (2) ideal self            2             -0.78  1.36 -0.47 -2.09 -0.56  0.12 -1.02  0.12 -3.69 -1.50 -1.45 -1.63 -1.71</span></span>
<span><span class="co"># (3) mother                3                    1.70  2.99  0.22  2.82  1.15  2.27  2.09 -3.84  1.91  1.06  1.44  1.92</span></span>
<span><span class="co"># (4) father                4                          2.31 -1.04  2.23  0.55  1.00  1.92 -4.39  0.96  0.50  0.08  0.63</span></span>
<span><span class="co"># (5) kurt                  5                                0.63  2.72  1.27  2.69  1.74 -3.37  1.30  0.35  0.79  1.01</span></span>
<span><span class="co"># (6) karl                  6                                      0.29  1.63  2.14 -0.66  0.10 -1.21 -1.53 -0.60 -1.04</span></span>
<span><span class="co"># (7) george                7                                            0.45  2.19  1.17 -3.39  1.70  0.54  0.42  1.35</span></span>
<span><span class="co"># (8) martin                8                                                  2.03  1.22 -1.85 -0.67 -0.73 -0.13 -0.53</span></span>
<span><span class="co"># (9) elizabeth             9                                                        0.76 -2.07 -0.08 -0.91 -0.29  0.05</span></span>
<span><span class="co"># (10) therapist           10                                                             -4.91  2.20  2.35  1.97  2.22</span></span>
<span><span class="co"># (11) irene               11                                                                   -5.47 -5.65 -4.79 -5.52</span></span>
<span><span class="co"># (12) childhood self      12                                                                          3.66  3.16  4.22</span></span>
<span><span class="co"># (13) self before illness 13                                                                                3.60  3.79</span></span>
<span><span class="co"># (14) self with delusion  14                                                                                      3.52</span></span>
<span><span class="co"># (15) self as dreamer     15                                                                                          </span></span>
<span><span class="co"># </span></span>
<span><span class="co"># For calculation the parameters from Hartmann (1992) were used. Use 'method=new' or method='simulate' for a more accurate version.</span></span></code></pre></div>
<p>The second option (<code>method="simulate"</code>) is to simulate the
distribution of distances based on the size and scale range of the grid
under investigation. A distribution of Slater distances is derived using
quasis and used for the Hartmann standardization instead of the
precalculated values. The following simulation is based on
<code>reps=1000</code> quasis.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">h</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/distanceHartmann.html">distanceHartmann</a></span><span class="op">(</span><span class="va">boeker</span>, method <span class="op">=</span> <span class="st">"simulate"</span>, reps <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span></span>
<span><span class="va">h</span></span></code></pre></div>
<pre><code><span><span class="co"># </span></span>
<span><span class="co"># ##########################</span></span>
<span><span class="co"># Distances between elements</span></span>
<span><span class="co"># ##########################</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># Distance method:  Hartmann (standardized Slater distances)</span></span>
<span><span class="co"># Normalized:</span></span>
<span><span class="co">#                                 1     2     3     4     5     6     7     8     9    10    11    12    13    14    15</span></span>
<span><span class="co"># (1) self                  1       -0.28  1.56  1.90  0.79 -1.32  1.19 -0.29 -0.04  2.59 -5.19  2.63  2.84  2.25  2.86</span></span>
<span><span class="co"># (2) ideal self            2             -0.77  1.35 -0.47 -2.07 -0.56  0.12 -1.01  0.12 -3.65 -1.48 -1.43 -1.62 -1.70</span></span>
<span><span class="co"># (3) mother                3                    1.68  2.96  0.21  2.79  1.14  2.25  2.07 -3.80  1.89  1.04  1.42  1.90</span></span>
<span><span class="co"># (4) father                4                          2.28 -1.04  2.20  0.54  0.99  1.90 -4.35  0.95  0.49  0.08  0.62</span></span>
<span><span class="co"># (5) kurt                  5                                0.62  2.69  1.25  2.66  1.72 -3.34  1.28  0.34  0.78  0.99</span></span>
<span><span class="co"># (6) karl                  6                                      0.28  1.61  2.11 -0.65  0.09 -1.20 -1.51 -0.59 -1.03</span></span>
<span><span class="co"># (7) george                7                                            0.44  2.17  1.15 -3.36  1.68  0.53  0.41  1.33</span></span>
<span><span class="co"># (8) martin                8                                                  2.01  1.20 -1.83 -0.67 -0.73 -0.13 -0.52</span></span>
<span><span class="co"># (9) elizabeth             9                                                        0.75 -2.05 -0.08 -0.90 -0.28  0.05</span></span>
<span><span class="co"># (10) therapist           10                                                             -4.86  2.18  2.32  1.95  2.19</span></span>
<span><span class="co"># (11) irene               11                                                                   -5.41 -5.59 -4.74 -5.46</span></span>
<span><span class="co"># (12) childhood self      12                                                                          3.62  3.12  4.18</span></span>
<span><span class="co"># (13) self before illness 13                                                                                3.56  3.75</span></span>
<span><span class="co"># (14) self with delusion  14                                                                                      3.48</span></span>
<span><span class="co"># (15) self as dreamer     15</span></span></code></pre>
<p>If the results are saved, there are a couple of options for printing
the object (see <code><a href="../../reference/print.hdistance.html">?print.hdistance</a></code>).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">d</span>, p <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.05</span>, <span class="fl">.95</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># ##########################</span></span>
<span><span class="co"># Distances between elements</span></span>
<span><span class="co"># ##########################</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># Distance method:  Slater (standardized Euclidean)</span></span>
<span><span class="co"># Normalized:</span></span>
<span><span class="co">#                                1    2    3    4    5    6    7    8    9   10   11   12   13   14   15</span></span>
<span><span class="co"># (1) self                  1      1.03 0.75 0.69 0.87 1.19 0.80 1.03 0.99 0.59 1.79 0.58 0.55 0.64 0.54</span></span>
<span><span class="co"># (2) ideal self            2           1.11 0.78 1.06 1.31 1.07 0.97 1.14 0.97 1.56 1.22 1.21 1.24 1.25</span></span>
<span><span class="co"># (3) mother                3                0.73 0.53 0.95 0.55 0.81 0.64 0.67 1.58 0.69 0.83 0.77 0.69</span></span>
<span><span class="co"># (4) father                4                     0.63 1.15 0.65 0.90 0.83 0.69 1.66 0.84 0.91 0.98 0.89</span></span>
<span><span class="co"># (5) kurt                  5                          0.89 0.57 0.79 0.57 0.72 1.51 0.79 0.93 0.87 0.83</span></span>
<span><span class="co"># (6) karl                  6                               0.94 0.74 0.66 1.09 0.97 1.17 1.22 1.08 1.15</span></span>
<span><span class="co"># (7) george                7                                    0.92 0.65 0.81 1.51 0.73 0.91 0.92 0.78</span></span>
<span><span class="co"># (8) martin                8                                         0.68 0.80 1.27 1.09 1.10 1.01 1.07</span></span>
<span><span class="co"># (9) elizabeth             9                                              0.87 1.31 1.00 1.13 1.03 0.98</span></span>
<span><span class="co"># (10) therapist           10                                                   1.74 0.65 0.63 0.69 0.65</span></span>
<span><span class="co"># (11) irene               11                                                        1.83 1.86 1.72 1.84</span></span>
<span><span class="co"># (12) childhood self      12                                                             0.43 0.50 0.34</span></span>
<span><span class="co"># (13) self before illness 13                                                                  0.43 0.41</span></span>
<span><span class="co"># (14) self with delusion  14                                                                       0.45</span></span>
<span><span class="co"># (15) self as dreamer     15                                                                           </span></span>
<span><span class="co"># </span></span>
<span><span class="co"># Note that Slater distances cannot be compared across grids with a different number of constructs (see Hartmann, 1992).</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="heckmanns-approach-2012">Heckmann’s approach (2012)<a class="anchor" aria-label="anchor" href="#heckmanns-approach-2012"></a>
</h3>
<div class="section level4">
<h4 id="description-2">Description<a class="anchor" aria-label="anchor" href="#description-2"></a>
</h4>
<p>Hartmann (1992) suggested a transformation of Slater (1977) distances
to make them independent from the size of a grid. Hartmann distances are
supposed to yield stable cutoff values used to determine ‘significance’
of inter-element distances. It can be shown that Hartmann distances are
still affected by grid parameters like size and the range of the rating
scale used <span class="citation">(Heckmann, 2012)</span>. The function
<code>distanceNormalize</code> applies a Box-Cox <span class="citation">(1964)</span> transformation to the Hartmann distances
in order to remove the skew of the Hartmann distance distribution. The
normalized values show to have more stable and nearly symmetric cutoffs
(quantiles) and better properties for comparison across grids of
different size and scale range.</p>
</div>
<div class="section level4">
<h4 id="r-code-2">R-Code<a class="anchor" aria-label="anchor" href="#r-code-2"></a>
</h4>
<p>The function <code>distanceNormalize</code> will return Slater,
Hartmann or power transformed Hartmann distances <span class="citation">(Heckmann, 2012)</span> if prompted. It is also
possible to return the quantiles of the sample distribution and only the
element distances consideres ‘significant’ according to the quantiles
defined.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/distanceNormalized.html">distanceNormalized</a></span><span class="op">(</span><span class="va">boeker</span><span class="op">)</span></span>
<span><span class="va">n</span></span></code></pre></div>
<pre><code><span><span class="co"># </span></span>
<span><span class="co"># ##########################</span></span>
<span><span class="co"># Distances between elements</span></span>
<span><span class="co"># ##########################</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># Distance method:  Power transformed Hartmann distances</span></span>
<span><span class="co"># Normalized:</span></span>
<span><span class="co">#                                 1     2     3     4     5     6     7     8     9    10    11    12    13    14    15</span></span>
<span><span class="co"># (1) self                  1       -0.28  1.56  1.90  0.79 -1.32  1.19 -0.29 -0.04  2.59 -5.18  2.63  2.84  2.25  2.86</span></span>
<span><span class="co"># (2) ideal self            2             -0.77  1.35 -0.47 -2.07 -0.56  0.12 -1.01  0.12 -3.65 -1.48 -1.43 -1.62 -1.70</span></span>
<span><span class="co"># (3) mother                3                    1.68  2.96  0.21  2.79  1.14  2.25  2.07 -3.80  1.89  1.04  1.42  1.90</span></span>
<span><span class="co"># (4) father                4                          2.28 -1.04  2.20  0.54  0.99  1.90 -4.34  0.94  0.49  0.08  0.62</span></span>
<span><span class="co"># (5) kurt                  5                                0.62  2.69  1.25  2.66  1.72 -3.34  1.28  0.34  0.78  0.99</span></span>
<span><span class="co"># (6) karl                  6                                      0.28  1.61  2.11 -0.65  0.09 -1.19 -1.51 -0.59 -1.03</span></span>
<span><span class="co"># (7) george                7                                            0.44  2.17  1.15 -3.36  1.68  0.53  0.41  1.33</span></span>
<span><span class="co"># (8) martin                8                                                  2.01  1.20 -1.83 -0.67 -0.73 -0.13 -0.52</span></span>
<span><span class="co"># (9) elizabeth             9                                                        0.75 -2.05 -0.08 -0.90 -0.28  0.05</span></span>
<span><span class="co"># (10) therapist           10                                                             -4.86  2.18  2.32  1.95  2.19</span></span>
<span><span class="co"># (11) irene               11                                                                   -5.41 -5.59 -4.74 -5.46</span></span>
<span><span class="co"># (12) childhood self      12                                                                          3.62  3.12  4.17</span></span>
<span><span class="co"># (13) self before illness 13                                                                                3.56  3.75</span></span>
<span><span class="co"># (14) self with delusion  14                                                                                      3.48</span></span>
<span><span class="co"># (15) self as dreamer     15</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="calculation-1">Calculation<a class="anchor" aria-label="anchor" href="#calculation-1"></a>
</h4>
<p>The form of normalization applied by Hartmann <span class="citation">(1992)</span> does not account for skewness or
kurtosis. Here, a form of normalization - a power transformation - is
explored that takes into account these higher moments of the
distribution. For this purpose Hartmann values are transformed using the
‘’Box-Cox’’ family of transformations <span class="citation">(Box &amp;
Cox, 1964)</span>. The transformation is defined as</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>Y</mi><mi>i</mi><mi>λ</mi></msubsup><mo>=</mo><mrow><mo stretchy="true" form="prefix">{</mo><mtable><mtr><mtd columnalign="center" style="text-align: center"><mfrac><mrow><msup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mi>i</mi></msub><mo>+</mo><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mi>λ</mi></msup><mo>−</mo><mn>1</mn></mrow><mi>λ</mi></mfrac></mtd><mtd columnalign="center" style="text-align: center"><mrow><mtext mathvariant="normal">for </mtext><mspace width="0.333em"></mspace></mrow><mi>λ</mi><mo>≠</mo><mn>0</mn></mtd></mtr><mtr><mtd columnalign="center" style="text-align: center"><mi>l</mi><mi>n</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>Y</mi><mi>i</mi></msub><mo>+</mo><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mtd><mtd columnalign="center" style="text-align: center"><mrow><mtext mathvariant="normal">for </mtext><mspace width="0.333em"></mspace></mrow><mi>λ</mi><mo>=</mo><mn>0</mn></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">
  Y_i^{\lambda}= \left\{ 
  \begin{matrix} 
    \frac{(Y_i + c)^\lambda - 1}{\lambda} &amp; \mbox{for }\lambda \neq 0 \\ 
    ln(Y_i + c) &amp; \mbox{for }\lambda = 0
  \end{matrix} \right.
</annotation></semantics></math></p>
<p>As the transformation requires values
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≥</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\ge 0</annotation></semantics></math>
a constant
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>c</mi><annotation encoding="application/x-tex">c</annotation></semantics></math>
is added to derive positive values only. For the present transformation
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>c</mi><annotation encoding="application/x-tex">c</annotation></semantics></math>
is defined as the minimum Hartmann distances from the quasis
distribution. In order to derive at a transformation that resembles the
normal distribution as close as possible, an optimal
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>λ</mi><annotation encoding="application/x-tex">\lambda</annotation></semantics></math>
is searched by selecting a
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>λ</mi><annotation encoding="application/x-tex">\lambda</annotation></semantics></math>
that maximizes the correlation between the quantiles of the transformed
values
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>Y</mi><mi>i</mi><mi>λ</mi></msubsup><annotation encoding="application/x-tex">Y_i^\lambda</annotation></semantics></math>
and the standard normal distribution. As a last step, the power
transformed values
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>Y</mi><mi>i</mi><mi>λ</mi></msubsup><annotation encoding="application/x-tex">Y_i^\lambda</annotation></semantics></math>
are z-transformed to remove the arbitrary scaling resulting from the
Box-Cox transformation yielding
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mi>Y</mi><mi>i</mi><mi>P</mi></msubsup><annotation encoding="application/x-tex">Y_i^P</annotation></semantics></math>.</p>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>Y</mi><mi>i</mi><mi>P</mi></msubsup><mo>=</mo><mfrac><mrow><msubsup><mi>Y</mi><mi>i</mi><mi>λ</mi></msubsup><mo>−</mo><msup><mover><mi>Y</mi><mo accent="true">¯</mo></mover><mi>λ</mi></msup></mrow><msub><mi>σ</mi><msup><mi>Y</mi><mi>λ</mi></msup></msub></mfrac></mrow><annotation encoding="application/x-tex">Y_{i}^P = \frac{Y^{\lambda}_i - \overline Y^{\lambda}}{\sigma_{Y^{\lambda}}}</annotation></semantics></math></p>
</div>
</div>
<div class="section level3 unnumbered">
<h3 class="unnumbered" id="literature">Literature<a class="anchor" aria-label="anchor" href="#literature"></a>
</h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0" line-spacing="2">
<div id="ref-box_analysis_1964" class="csl-entry">
Box, G. E. P., &amp; Cox, D. R. (1964). An analysis of transformations.
<em>Journal of the Royal Statistical Society. Series B
(Methodological)</em>, <em>26</em>(2), 211–252. Retrieved from <a href="http://www.jstor.org/stable/2984418" class="external-link">http://www.jstor.org/stable/2984418</a>
</div>
<div id="ref-hartmann_element_1992" class="csl-entry">
Hartmann, A. (1992). Element comparisons in repertory grid technique:
Results and consequences of a monte carlo study. <em>International
Journal of Personal Construct Psychology</em>, <em>5</em>(1), 41–56.
doi:<a href="https://doi.org/10.1080/08936039208404940" class="external-link">10.1080/08936039208404940</a>
</div>
<div id="ref-heckmann_standardizing_2012" class="csl-entry">
Heckmann, M. (2012, July). Standardizing inter-element distances in
grids – a revision of hartmann’s distances. Talk held at the 11th
Biennial Conference of the European Personal Construct Association
({EPCA}), Dublin, Irland.
</div>
<div id="ref-norris_measurement_1976" class="csl-entry">
Norris, H., &amp; Makhlouf-Norris, F. (1976). The measurement of
self-identity. In P. Slater (Ed.), <em>The measurement of intrapersonal
space by grid technique: Explorations of intrapersonal space</em> (Vol.
1, pp. 79–92). London: Wiley &amp; Sons.
</div>
<div id="ref-slater_transformation_1951" class="csl-entry">
Slater, P. (1951). The transformation of a matrix of negative
correlations. <em>British Journal of Statistical Psychology</em>,
<em>6</em>, 101–106.
</div>
<div id="ref-slater_measurement_1977" class="csl-entry">
Slater, P. (1977). <em>The measurement of intrapersonal space by grid
technique: Dimensions of intrapersonal space</em> (Vol. 2). London:
Wiley &amp; Sons.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://markheckmann.de" class="external-link">Mark Heckmann</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Provided without <strong>any warranty</strong></p>
</div>

    </footer>
</div>





  </body>
</html>
